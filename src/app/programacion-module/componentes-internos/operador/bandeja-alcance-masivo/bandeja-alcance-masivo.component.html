<div class="my-2 my-sm-3 my-md-4 my-lg-5 mx-2 mx-sm-3 mx-md-4 mx-lg-5">
  <mat-card-title class="main-title">Bandeja de Procesos Masivos</mat-card-title><br><br>
  <form action="" [formGroup]="generalFormGroup">
    <div class="col-6">
      <mat-form-field class="example-full-width" appearance="standard">
        <mat-label>Seleccione un Proceso</mat-label>
        <mat-select  (valueChange)="selectProcesMasive($event)" formControlName="professional" >
          <mat-option  *ngFor="let proceso of procesos" [value]="proceso.codigo">
            {{proceso.nombre}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </form><br>
  <div *ngIf="codigoProceso == 962">
    <div class="col-sm py-3 ps-2 pe-3">
      <mat-card class="parent">
        <div class="result-count">
          <span class="title">Resultados de búsqueda </span>
          <span class="count">{{lenghtCabinet}}</span>
        </div>
        <div>
          <table mat-table [dataSource]="dataSourceFiscal" matSort>
            <ng-container matColumnDef="idCaso">
              <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
                Identificador <br> Caso
              </th>
              <td mat-cell *matCellDef="let item"> {{item.idCaso}} </td>
            </ng-container>
            <ng-container matColumnDef="nitContribuyente">
              <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
                Nombre Contribuyente
              </th>
              <td mat-cell *matCellDef="let item"> {{item.nitContribuyente}} </td>
            </ng-container>
            <ng-container matColumnDef="nombreGerencia">
              <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
                Gerencia
              </th>
              <td mat-cell *matCellDef="let item"> {{item.nombreGerencia}} </td>
            </ng-container>
            <ng-container matColumnDef="nombreEstado">
              <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
                Estado
              </th>
              <td mat-cell *matCellDef="let item"> {{item.nombreEstado}} </td>
            </ng-container>
            <ng-container matColumnDef="acciones">
              <th mat-header-cell *matHeaderCellDef class="header-table"></th>
              <td mat-cell *matCellDef="let item">
                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Acciones">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item title="Muestra de manera detalla la información de un contribuyente." (click)="showAnalityc(item.idCaso)">
                    <mat-icon class="iconos">query_stats</mat-icon>
                    <span>Análisis de caso</span>
                  </button>
                </mat-menu>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="getComplaints"></tr>
            <tr mat-row *matRowDef="let row; columns: getComplaints;" [class.refused]="row.idEstado == '181'"></tr>
          </table>
          <mat-paginator #GabinetPaginator="matPaginator" [pageSizeOptions]="[5,10,15]" showFirstLastButtons></mat-paginator>
        </div>
      </mat-card>
    </div>    
  </div>
  <div *ngIf="codigoProceso == 961">
    <div class="col-sm py-3 ps-2 pe-3">
      <mat-card class="parent">
        <div class="result-count">
          <span class="title">Resultados de búsqueda </span>
          <span class="count">{{lenght}}</span>
        </div>
        <div>
          <table mat-table [dataSource]="dataSourceFixed" matSort>
            <ng-container matColumnDef="idCaso">
              <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
                Identificador <br> Caso
              </th>
              <td mat-cell *matCellDef="let item"> {{item.idCaso}} </td>
            </ng-container>
            <ng-container matColumnDef="nitContribuyente">
              <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
                Nombre Contribuyente
              </th>
              <td mat-cell *matCellDef="let item"> {{item.nitContribuyente}} </td>
            </ng-container>
            <ng-container matColumnDef="nombreGerencia">
              <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
                Gerencia
              </th>
              <td mat-cell *matCellDef="let item"> {{item.nombreGerencia}} </td>
            </ng-container>
            <ng-container matColumnDef="nombreEstado">
              <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
                Estado
              </th>
              <td mat-cell *matCellDef="let item"> {{item.nombreEstado}} </td>
            </ng-container>
            <ng-container matColumnDef="acciones">
              <th mat-header-cell *matHeaderCellDef class="header-table"></th>
              <td mat-cell *matCellDef="let item">
                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Acciones">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item title="Muestra de manera detalla la información de un contribuyente." (click)="showAnalitycFixedPoint(item.idCaso)" >
                    <mat-icon class="iconos">query_stats</mat-icon>
                    <span>Análisis de caso</span>
                  </button>
                </mat-menu>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="getComplaints"></tr>
            <tr mat-row *matRowDef="let row; columns: getComplaints;" [class.refused]="row.idEstado == '181'"></tr>
          </table>
          <mat-paginator #PointPaginator="matPaginator" [pageSizeOptions]="[5,10,15]" showFirstLastButtons></mat-paginator>
        </div>
      </mat-card>
    </div> 

</div>
</div>
