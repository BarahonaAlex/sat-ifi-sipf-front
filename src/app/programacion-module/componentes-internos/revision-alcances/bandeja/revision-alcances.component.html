<div class="my-2 my-sm-3 my-md-4 my-lg-5 mx-2 mx-sm-3 mx-md-4 mx-lg-5" *ngIf="loaded && authorized">
  <mat-card-title class="main-title">Revision de {{type}}</mat-card-title>
  <mat-card class="mt-4">
    <mat-form-field appearance="standard" class="col-12 col-sm-12 col-md-12 col-lg-6 me-0 me-sm-0 me-md-3 me-lg-4">
      <mat-label>Filtro de búsqueda</mat-label>
      <input matInput (keyup)="filtroBusqueda($event)">
    </mat-form-field>
    <div>
      <table mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
            No.
          </th>
          <td mat-cell *matCellDef="let item; let i = index">
            {{i + 1}}
          </td>
        </ng-container>
        <ng-container matColumnDef="colaborador">
          <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
            Usuario que elaboró</th>
          <td mat-cell *matCellDef="let item"> {{item.usuarioElaboro}} </td>
        </ng-container>
        <ng-container matColumnDef="nit">
          <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
            NIT
          </th>
          <td mat-cell *matCellDef="let item"> {{item.nitContribuyente}} </td>
        </ng-container>
        <ng-container matColumnDef="contribuyente">
          <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
            Contribuyente
          </th>
          <td mat-cell *matCellDef="let item"> {{item.nombreContribuyente}} </td>
        </ng-container>
        <ng-container matColumnDef="noPrograma">
          <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
            No. de Programa
          </th>
          <td mat-cell *matCellDef="let item"> {{item.noPrograma}} </td>
        </ng-container>
        <ng-container matColumnDef="profesional">
          <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
            NIT Colaborador
          </th>
          <td mat-cell *matCellDef="let item"> {{item.nitProfesionalResponsable}} </td>
        </ng-container>
        <ng-container matColumnDef="insumo">
          <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
            No. de Insumo
          </th>
          <td mat-cell *matCellDef="let item"> {{item.idCaso}} </td>
        </ng-container>
        <ng-container matColumnDef="descripcion">
          <th mat-header-cell *matHeaderCellDef class="header-table" mat-sort-header>
            Descripción
          </th>
          <td mat-cell *matCellDef="let item"> {{item.nombreCaso}} </td>
        </ng-container>
        <ng-container matColumnDef="acciones">
          <th mat-header-cell *matHeaderCellDef class="header-table"></th>
          <td mat-cell *matCellDef="let item">
            <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Acciones">
              <mat-icon>more_horiz</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item title="Muestra los alcances del caso." (click)="verDetalle(item)">
                <mat-icon class="iconos">visibility</mat-icon>
                <span>Ver {{type}}</span>
              </button>
              <button mat-menu-item title="Muestra los alcances del caso." (click)="verDetalle(item)">
                <mat-icon class="iconos">bookmark_border</mat-icon>
                <span>Dar seguimiento</span>
              </button>
              <button mat-menu-item title="Muestra los alcances del caso." (click)="verDetalle(item)">
                <mat-icon class="iconos">done</mat-icon>
                <span>Aprobar</span>
              </button>
              <button mat-menu-item title="Muestra los alcances del caso." (click)="verDetalle(item)">
                <mat-icon class="iconos">close</mat-icon>
                <span>Rechazar</span>
              </button>
            </mat-menu>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columns"></tr>
        <tr mat-row class="sobra-tabla" *matRowDef="let row; columns: columns;"></tr>
      </table>
      <mat-paginator [pageSizeOptions]="[5,10,15]" showFirstLastButtons></mat-paginator>
    </div>
  </mat-card>
</div>
